/****************************************************************************
    Example of OpenFlow flow entry
    
    Layer 3 matching fields:
    - Ingress port:         3
    - Ethernet type:        2048 (0x800) (IP)
    - VLAN ID:              78
    - IPv4 DSCP:            8 (Priority)
    - IPv4 protocol:        6 (TCP)
    - IPv4 source:          17.1.2.3/32
    - IPv4 destination:     10.0.0.4/32
    - TCP source port:      25364
    - TCP destination port: 8080
    
    Action: Output to Controller
    
    NOTES: For each flow entry the 'id' and 'table_id'
           are the must fields
*****************************************************************************/

{
    // generic attributes of the flow entry
    "id": "200",                                 // unique identifier of this
                                                 // flow entry on the Controller
                                                 // (mandatory)
    "table_id": "0",                             // identifier of the table to
                                                 // put the flow entry in
                                                 // (mandatory)
    "flow-name": "layer 3 flow match sample",    // this flow entry name
                                                 // (optional)
    "cookie": "200",                             // an opaque identifier to be
                                                 // associated with this flow entry
                                                 // (optional)
    "hard-timeout": "0",                         // max time for this flow entry
                                                 // to exist in the table (seconds)
                                                 // zero value means infinity
                                                 // (optional)
    "idle-timeout": "0",                         // idle time before discarding
                                                 // this flow entry due to lack
                                                 // of match (seconds)
                                                 // zero value means infinity
                                                 // (optional)
    "priority": "2000",                          // priority level for this flow
                                                 // entry in the table
                                                 // (optional)
     
     // instructions to be executed for the matching packet
    "instructions": {
        "instruction": {
            "order": "0",
            "apply-actions": {
                "action": {                      // Apply action
                    "order": "0",
                    "output-action": {           // Output
                        "output-node-connector": "CONTROLLER", 
                        "max-length": "60"
                    }
                }
            }
        }
    },
    
    // packet matching criteria
    "match": {
        "in-port": "3",                          // Ingress port
        "ethernet-match": {
            "ethernet-type": {                   // Ethernet type
                "type": "2048"
            }
        },
        "vlan-match": {
            "vlan-id": {                         // VLAN ID
                "vlan-id": "78",
                "vlan-id-present": "true"
            }
        },
        "ip-match": {
            "ip-dscp": "8",                      // IPv4 DSCP
            "ip-protocol": "6"                   // IPv4 protocol
        }, 
        "ipv4-source": "17.1.2.3/32",            // IPv4 source
        "ipv4-destination": "10.0.0.4/32",       // IPv4 destination
        "tcp-source-port": "25364",              // TCP source port
        "tcp-destination-port": "8080"           // TCP destination port
    }
}